<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0072)http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="verify-v1" content="sSfR50BXoiU7QTwUr8R9R6sJ2WGj8ibxwqfIXHG9KRY=">
    
    <!--<base href="http://semlabs.co.uk/">--><base href=".">
    <script type="text/javascript" src="./htaccess - mod_rewrite Quick Reference and Cheat Sheet_files/mootools.js"></script>
    <link type="image/x-icon" rel="icon" href="http://semlabs.co.uk/assets/img/favico.ico">
    <link title="RSS 2.0" type="application/rss+xml" rel="alternate" href="http://semlabs.co.uk/journal/rss-feed">
    <link type="text/css" rel="stylesheet" href="./htaccess - mod_rewrite Quick Reference and Cheat Sheet_files/main.css" media="all">
<!--[if IE 6]><link href="assets/css/ie6.css" media="all" rel="stylesheet" type="text/css"></link><![endif]-->
<!--[if IE 7]><link href="assets/css/ie7.css" media="all" rel="stylesheet" type="text/css"></link><![endif]-->
<!--[if IE]><link href="assets/css/ie.css" media="all" rel="stylesheet" type="text/css"></link><![endif]-->
    <title>mod_rewrite Quick Reference and Cheat Sheet</title>
  </head>
  <body>
    <div id="wrapper" style="font-size: 10px; ">
      <div id="strip">
        <div class="top_centered">
          <div class="lft">
            <div class="rgt"></div>
          </div>
        </div>
      </div>
      <div id="scene">
        <div class="top_centered">
          <div class="lft">
            <div class="rgt">
              <div class="cen">
                <div class="txt">
                  <h1>SEM Labs</h1>
                  <h2>Handcrafted Pixels, Code &amp; Title Tags</h2>
                </div>
                <div id="rss">
                  <div class="cloud_top day"></div>
                  <div class="cloud_bottom day"></div>
                  <div id="rss_button" class="button_styled green">
                    <div class="t">
                      <div class="tl"></div>
                      <div class="tr"></div>
                    </div>
                    <div class="l">
                      <div class="lu">
                        <div class="r">
                          <div class="ru">
                            <div class="c">
                              <a href="http://semlabs.co.uk/journal/rss-feed">RSS Subscribe</a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="b">
                      <div class="bl"></div>
                      <div class="br"></div>
                    </div>
                  </div>
                </div>
                <div id="scale_area">
                  <div id="scale_knob" style="position: relative; left: 0px; "></div>
                </div>
              </div>
            </div>
          </div>
          <div class="clear"></div>
        </div>
      </div>
      <div id="menu_wrapper">
        <div class="l1"></div>
        <div class="l2"></div>
        <div class="l3"></div>
        <div class="l4"></div>
        <div id="menu">
          <div class="top_centered">
            <div class="lft">
              <div class="rgt">
                <div class="cen">
                  <div class="top"></div>
                  <div id="menu_blob" style="visibility: visible; width: 7.3em; margin-left: 67.3em; ">
                    <div class="t">
                      <div class="tl"></div>
                      <div class="tr"></div>
                    </div>
                    <div class="l">
                      <div class="r">
                        <div class="c"></div>
                      </div>
                    </div>
                    <div class="b">
                      <div class="bl"></div>
                      <div class="br"></div>
                    </div>
                  </div>
                  <div id="menu_items">
                    <a href="http://semlabs.co.uk/">SEM Labs</a>
                    <a href="http://semlabs.co.uk/about">About</a>
                    <a href="http://semlabs.co.uk/cv">CV</a>
                    <a href="http://semlabs.co.uk/seo-services">Services</a>
                    <a href="http://semlabs.co.uk/seo-help">Help</a>
                    <a href="http://semlabs.co.uk/products">Products</a>
                    <a href="http://semlabs.co.uk/docs">Docs</a>
                    <a href="http://semlabs.co.uk/journal" class="active current">Journal</a>
                    <a href="http://semlabs.co.uk/contact">Contact</a>
                    <div class="clear"></div>
                  </div>
                  <div class="clear"></div>
                  <div class="bot"></div>
                </div>
              </div>
            </div>
          </div>
          <div id="flasks"></div>
        </div>
      </div>
      <div id="content">
        <div id="content_col_l">
          <div class="content_box journal_post">
            <div class="slit"></div>
            <div class="header">
              <div class="ico post"></div>
              <h1 class="post_title sml">mod_rewrite Quick Reference and Cheat Sheet</h1>
            </div>
            <div class="content"><div id="gadpost"><script type="text/javascript">
						google_ad_client = "ca-pub-5536644300033574";
						/* SEM Labs */
						google_ad_slot = "5742975263";
						google_ad_width = 200;
						google_ad_height = 200;
						</script><script type="text/javascript" src="./htaccess - mod_rewrite Quick Reference and Cheat Sheet_files/show_ads.js"></script><ins style="display:inline-table;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:200px"><ins id="aswift_0_anchor" style="display:block;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:200px"><iframe allowtransparency="true" frameborder="0" height="200" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+=&#39;.call&#39;;setTimeout(h,0)}else if(h.match){i+=&#39;.nav&#39;;w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" scrolling="no" vspace="0" width="200" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></div><p>This reference is designed to cover all aspects of mod_rewrite with minimal detail. It will be of most use to those who know a bit about mod_rewrite and pros who just need a quick reference.</p>
<img src="./htaccess - mod_rewrite Quick Reference and Cheat Sheet_files/apache_logo.png" alt="Apache HTTP Server Logo" class="center">
<p>As the reference is a little meaty to fit on this page, you will find links to a full screen version and PNG version below.</p>
<div class="msg view">
<a href="http://semlabs.co.uk/sandbox/journal/mod_rewrite_reference.html" target="_blank">View Full Screen</a>
</div>
<div class="msg download">
<a href="http://semlabs.co.uk/assets/files/mod_rewrite_reference.png">Download in PNG</a>
</div>
<h1>Table of Contents</h1>
<ul>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#directives">Directives</a></li>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#pattern-syntax">Pattern Syntax</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#anchors">Anchors</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#operators">Operators</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#grouping">Grouping</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#text">Text</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#quantifiers">Quantifiers</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#ungreedy">Ungreedy</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#escaping">Escaping</a></li>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#substitution-syntax">Substitution Syntax</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#backreferences">Backreferences</a></li>
	<li>	<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#mapping-functions">Mapping Functions</a></li>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#rewritecond-opperators">RewriteCond Opperators</a></li>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#rewritecond-flags">RewriteCond Flags</a></li>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#rewriterule-flags">RewriteRule Flags</a></li>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#variables">Variables</a></li>
	<li><a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#other-variables">Other Variables</a></li>
</ul>
<table>
	<tbody><tr id="directives">
		<th colspan="3">Directives</th>
	</tr>
	<tr class="grey">
		<td colspan="3">mod_rewrite directives define how URLs should be modified and modify the module's settings.</td>
	</tr>
	<tr class="lgrey">
		<th>Directive Name</th>
		<th>Arguments</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>RewriteEngine</td>
		<td>
			<b>on</b><br>
			<b>off</b>
		</td>
		<td>Turns runtime mod_rewrite processing on/off.</td>
	</tr>
	<tr>
		<td>RewriteOptions</td>
		<td>
			<b>inherit</b> - forces inheritance of the parent options<br>
			<b>MaxRedirects</b>=<em>integer</em> - number of redirects permitted per request (defaults to 10)
		</td>
		<td>Sets options for current directory.</td>
	</tr>
	<tr>
		<td>RewriteLog</td>
		<td><b><em>file-path</em></b></td>
		<td>Path (relative to server root) where log file will be saved.</td>
	</tr>
	<tr>
		<td>RewriteLogLevel</td>
		<td><b><em>0 - 10</em></b></td>
		<td>Level of errors to be logged (defaults to 0).</td>
	</tr>
	<tr>
		<td>RewriteLock</td>
		<td><b><em>file-path</em></b></td>
		<td>Path (local) of a synchronisation lockfile.</td>
	</tr>
	<tr>
		<td>RewriteMap</td>
		<td><b><em>MapName MapType:MapSource</em></b></td>
		<td>Name type and path of a Rewriting Map.</td>
	</tr>
	<tr>
		<td>RewriteBase</td>
		<td><b><em>URL-path</em></b></td>
		<td>Path to be used as prefix in rewrite rules.</td>
	</tr>
	<tr>
		<td>RewriteCond</td>
		<td><b><em>test-string pattern [flags]</em></b></td>
		<td>Condition for a RewriteRule.</td>
	</tr>
	<tr>
		<td>RewriteRule</td>
		<td><b><em>pattern substitution [flags]</em></b></td>
		<td>Descriptions of how URLs should be re-written.</td>
	</tr>
</tbody></table>
<table>	
	<tbody><tr id="pattern-syntax">
		<th colspan="3">Pattern Syntax</th>
	</tr>
	<tr class="grey">
		<td colspan="3">The pattern argument of the RewriteCond and RewriteRule directives test strings using regular expression.</td>
	</tr>
	<tr class="lgrey">
		<th>Symbol</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr id="anchors">
		<th colspan="3">Anchors</th>
	</tr>
	<tr>
		<td>^</td>


		<td>Tests a pattern against the start of a string.</td>
		<td>RewriteRule ^index.html -</td>
	</tr>
	<tr>
		<td>$</td>
		<td>Tests a pattern against the end of a string.</td>
		<td>RewriteRule -page.html$ -</td>
	</tr>
	<tr id="operators">
		<th colspan="3">Operators</th>
	</tr>
	<tr>
		<td>!</td>
		<td>Tests if a pattern is flase.</td>
		<td>RewriteRule !index.html -</td>
	</tr>
	<tr id="grouping">
		<th colspan="3">Grouping</th>
	</tr>
	<tr>
		<td>(<em>pattern</em>)</td>
		<td>Groups a matched portion into a backreference.</td>
		<td>RewriteRule ^index.php?page=(home)$ page/$1</td>
	</tr>
	<tr id="text">
		<th colspan="3">Text</th>
	</tr>
	<tr>
		<td><em>a</em>|<em>b</em>|<em>c</em></td>
		<td>Tests against multiple patters.</td>
		<td>RewriteRule ^index.html|about.html$ -</td>
	</tr>
	<tr>
		<td>[<em>abc</em>]</td>
		<td>Tests against a range of characters. Will accept logical ranges, e.g. <em>a-z</em> (basic Latin), <em>0-9</em> (digit), <em>\x7f-\xff</em> (Unicode).</td>
		<td>RewriteRule ^[a-z0-9]+$ -</td>
	</tr>
	<tr>
		<td>[^<em>abc</em>]</td>
		<td>Tests against a range, negatively.</td>
		<td>RewriteRule ^[^a-z]+$ -</td>
	</tr>
	<tr id="quantifiers">
		<th colspan="3">Quantifiers</th>
	</tr>
	<tr>
		<td><em>a</em>?</td>
		<td>Zero or one.</td>
		<td>RewriteRule ^[a-z]?$ -</td>
	</tr>
	<tr>
		<td><em>a</em>*</td>
		<td>Zero or more than.</td>
		<td>RewriteRule ^[0-9]*$ -</td>
	</tr>
	<tr>
		<td><em>a</em>+</td>
		<td>One or more.</td>
		<td>RewriteRule ^[0-9a-z]+$</td>
	</tr>
	<tr>
		<td><em>a</em>{<em>2</em>}</td>
		<td>An exact length.</td>
		<td>RewriteRule ^[a-z]{10}$ -</td>
	</tr>
	<tr>
		<td><em>a</em>{<em>2</em>,}</td>
		<td>Equal or more than in length.</td>
		<td>RewriteRule ^[a-z]{5,}$ -</td>
	</tr>
	<tr>
		<td><em>a</em>{<em>2</em>,<em>4</em>}</td>
		<td>Between <em>x</em> and <em>y</em> in length.</td>
		<td>RewriteRule ^[a-z0-9]{1,9}$ -</td>
	</tr>
	<tr id="ungreedy">
		<th colspan="3">Ungreedy</th>
	</tr>
	<tr>
		<td>?</td>
		<td>When using quantifiers, stops matching when the preceding part of the pattern matches the current part of the string.</td>
		<td>RewriteRule ^page-[a-z-.]+?.html$</td>
	</tr>
	<tr id="escaping">
		<th colspan="3">Escaping</th>
	</tr>
	<tr>
		<td>\</td>
		<td>To escape characters that may otherwise be considered special characters.</td>
		<td>RewriteRule \$dollar.html -</td>
	</tr>
</tbody></table>
<table>
	<tbody><tr id="substitution-syntax">
		<th colspan="3">Substitution Syntax</th>
	</tr>
	<tr class="grey">
		<td colspan="3">The substitution argument of the RewriteRule directive defines the URL a request should be directed to.</td>
	</tr>
	<tr class="lgrey">
		<th>Symbol</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>-</td>
		<td>Defines a RewriteRule in which no substitution shall occur.</td>
		<td>RewriteRule ^old-page.html$ - [G]</td>
	</tr>
	<tr>
		<th id="backreferences" colspan="3">Backreferences</th>
	</tr>
	<tr class="grey">
		<td colspan="3">Backreference are the matched text within a <a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#grouping">grouping</a> '<em>(...)</em>' of the corresponding pattern.</td>
	</tr>
	<tr class="lgrey">
		<th>Syntax</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>%<em>n</em></td>
		<td>Backreference to groups in RewriteCond pattern [0-9], 0 is equal to the entire match.</td>
		<td>
			RewriteCond %{QUERY_STRING} ^prod=([a-z0-9-]+)&amp;cat<br>
			RewriteRule ^product.php product.php?prod=%1
		</td>
	</tr>
	<tr>
		<td>$<em>n</em></td>
		<td>Backreference to groups in RewriteRule pattern [0-9], 0 is equal to the entire match.</td>
		<td>RewriteRule ^index.py?name=([a-z-]+)&amp;cat=([0-9]+)$ $1/$2</td>
	</tr>
	<tr id="mapping-functions">
		<th colspan="3">Mapping Functions</th>
	</tr>
	<tr>
		<td>${<em>mapname</em>:<em>key</em>|<em>default</em>}</td>
		<td>Call to function in a RewriteMap.</td>
		<td>${example-map:$1|value}</td>
	</tr>
</tbody></table>
<table>
	<tbody><tr id="rewritecond-opperators">
		<th colspan="3">RewriteCond Operators</th>
	</tr>
	<tr class="grey">
		<td colspan="3">The pattern argument of the RewriteCond directive is supplemented with a number of special operators.</td>
	</tr>
	<tr class="lgrey">
		<th>Operator</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>&lt;</td>
		<td>Is lexically lower.</td>
		<td>RewriteCond directory-a &lt;directory-b</td>
	</tr>
	<tr>
		<td>&gt;</td>
		<td>Is lexically greater.</td>
		<td>RewriteCond directory-b &gt;directory-a</td>
	</tr>
	<tr>
		<td>=</td>
		<td>Is lexically equal.</td>
		<td>RewriteCond directory-c =directory-c</td>
	</tr>
	<tr>
		<td>-d</td>
		<td>Is a directory.</td>
		<td>RewriteCond /directory/ -d</td>
	</tr>
	<tr>
		<td>-f</td>
		<td>Is a file.</td>
		<td>RewriteCond /path/index.html -f</td>
	</tr>
	<tr>
		<td>-s</td>
		<td>Tests if the <em>test-string</em> exists and has a file size of more than 0 bytes.</td>
		<td>RewriteCond /path/index.html -s</td>
	</tr>
	<tr>
		<td>-F</td>
		<td>Is existing file via subrequest.</td>
		<td>RewriteCond /path/index.html -F</td>
	</tr>
	<tr>
		<td>-U</td>
		<td>Is existing URL via subrequest.</td>
		<td>RewriteCond /path/index.html -U</td>
	</tr>
</tbody></table>

<table>
	<tbody><tr id="rewritecond-flags">
		<th colspan="3">RewriteCond Flags</th>
	</tr>
	<tr class="grey">
		<td colspan="3">The RewriteCond directive can be supplemented with a number of comma separated flags to modify the nature of the condition.</td>
	</tr>
	<tr class="lgrey">
		<th>Flag</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>NC</td>
		<td>Test of <em>test-string</em> and <em>pattern</em> becomes case-insensitive.</td>
		<td>RewriteCond localhost LOCALHOST [NC]</td>
	</tr>
	<tr>
		<td>OR</td>
		<td>Combines rules with OR as opposed to AND.</td>
		<td>
			RewriteCond %{REMOTE_HOST} ^localhost  [OR]<br>
			RewriteCond %{REMOTE_HOST} ^remotehost
		</td>
	</tr>
</tbody></table>
<table>
	<tbody><tr id="rewriterule-flags">
		<th colspan="3">RewriteRule Flags</th>
	</tr>
	<tr class="grey">
		<td colspan="3">The RewriteRule directive can be supplemented with a number of comma separated flags to modify the nature of the rule.</td>
	</tr>
	<tr class="lgrey">
		<th>Flag</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>C</td>
		<td>Chain the current rule with the next rule. If a rule matches processing continues, else all further chained rules are ignored.</td>
		<td>
			RewriteRule ^index.html$ substituted.html [C]<br>
			RewriteRule ^substituted.html$ further-substituted.html [C]<br>
			RewriteRule ^further-substituted.html$ final-substitution.html
		</td>
	</tr>
	<tr>
		<td>CO=<em>name</em>:<em>value</em>:<em>domain</em>[<em>lifetime</em>:<em>path</em>]</td>
		<td>Forces the response to be a specified MIME-type.</td>
		<td>RewriteRule index.html - [CO=foo:bar:domain.com:14400:/]</td>
	</tr>
	<tr>
		<td>E=<em>VAR:VAL</em></td>
		<td>Set an environmental variable where <em>VAR</em> is the name of the variable and <em>VAL</em> is the value. The value may contain regular expression and backreferences.</td>
		<td>RewriteRule .* - [E=foo:bar]</td>
	</tr>
	<tr>
		<td>F</td>
		<td>Returns a 403 response (forbidden).</td>
		<td>RewriteRule ^private-area - [F]</td>
	</tr>
	<tr>
		<td>G</td>
		<td>Returns a 410 response (gone).</td>
		<td>RewriteRule ^old-page.html - [G]</td>
	</tr>
	<tr>
		<td>H=<em>handler</em></td>
		<td>Specifies what should handle the request.</td>
		<td>RewriteRule index.cgi - [H=cgi-script]</td>
	</tr>
	<tr>
		<td>L</td>
		<td>Stops the rewriting process - no more rules are processed.</td>
		<td>RewriteRule ^.* index.py?request=$0 [L]</td>
	</tr>
	<tr>
		<td>N</td>
		<td>Start the rewriting process again from the first rule with the current substituted URL.</td>
		<td>RewriteRule ^index.html$ substituted.html [N]</td>
	</tr>
	<tr>
		<td>NC</td>


		<td>This makes the Pattern case-insensitive.</td>
		<td>RewriteRule ^INDEX.HTML$ index.html [NC]</td>
	</tr>
	<tr>
		<td>NE</td>
		<td>By default special characters (%, $ etc.) are replaced with their hexadecimal equivalents. The NE flag turns this escaping off.</td>
		<td>RewriteRule ^index.html$ hello%world.html [NE]</td>
	</tr>
	<tr>
		<td>NS</td>
		<td>The rule will be skipped if the request is an internal sub-request, i.e. if substitutions have already been made.</td>
		<td>RewriteRule ^.*$ further-substituted.html [NS]</td>
	</tr>
	<tr>
		<td>P</td>
		<td>Requested is routed through Apache proxy module. The substitution must begin with a valid host.</td>
		<td>RewriteRule ^proxy.html http://proxyhost/proxy.html [P]</td>
	</tr>
	<tr>
		<td>PT</td>
		<td>Facility to allow the post-processing of RewriteRule directives.</td>
		<td>
			RewriteRule ^hidden/ secret/ [PT]<br>
			Alias /secret /var/www/secret-files
		</td>
	</tr>
	<tr>
		<td>QSA</td>
		<td>An acronym for query string append, this flag forces the query string part of existing one to be appened to the substitution.</td>
		<td>RewriteRule ^.*$ further-substituted.html [NS]</td>
	</tr>
	<tr>
		<td>R[=<em>code</em>]</td>
		<td>Forces a redirect to the substitution URL. Code (HTTP header status code) may be in the range of 300-400 and defaults to 302 (moved temporarily). Using 301 (moved permanently) will cause search engines to transfer the target of incoming links.</td>
		<td>RewriteRule ^olg-page.html$ new-page.html [R=301]</td>
	</tr>
	<tr>
		<td>S[=<em>integer</em>]</td>
		<td>When the current rule matches, the next specified number of rules will be skipped.</td>
		<td>RewriteRule ^index.html$ new.html [S]</td>
	</tr>
	<tr>
		<td>T=<em>MIME-type</em></td>
		<td>Forces the response to be a specified MIME-type.</td>
		<td>RewriteRule ^jpeg/(.+)$ jpeg.pl?=src=$1 [T=image/jpeg]</td>
	</tr>
</tbody></table>
<table>
	<tbody><tr id="variables">
		<th colspan="3">Variables</th>
	</tr>
	<tr class="grey">
		<td colspan="3">mod_rewrite has a number of variables, which can be used in the RewriteCond text-string and the RewriteRule substitution arguments.</td>
	</tr>
	<tr class="lgrey">
		<th>Name</th>
		<th>Description</th>
		<th>Example Output</th>
	</tr>
	<tr>
		<td>%{HTTP_USER_AGENT}</td>
		<td>The user agent string of the client that sent the request.</td>
		<td>Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.3) Gecko/2008101315 Linux Mint/6 (Felicia) Firefox/3.0.3</td>
	</tr>
	<tr>
		<td>%{HTTP_REFERER}</td>
		<td>The refering document.</td>
		<td>http://localhost/path/</td>
	</tr>
	<tr>
		<td>%{HTTP_COOKIE}</td>
		<td>The contents of any cookies set for the request.</td>
		<td>SID=58301702dfcb380ebe1e93f28bcbbc1a</td>
	</tr>
	<tr>
		<td>%{HTTP_FORWARDED}</td>
		<td>Typically the IP address of the client that is using a proxy server.</td>
		<td>123.123.123.123</td>
	</tr>
	<tr>
		<td>%{HTTP_HOST}</td>
		<td>The name of the remove host being requested.</td>
		<td>localhost</td>
	</tr>
	<tr>
		<td>%{HTTP_PROXY_CONNECTION}</td>
		<td>Timeout status of HTTP proxy connection.</td>
		<td>keep-alive</td>
	</tr>
	<tr>
		<td>%{HTTP_ACCEPT}</td>
		<td>Lists which media types are acceptable for the response.</td>
		<td>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</td>
	</tr>
	<tr>
		<td>%{REMOTE_ADDR}</td>
		<td>IP address of the client that sent the request.</td>
		<td>123.123.123.123</td>
	</tr>
	<tr>
		<td>%{REMOTE_HOST}</td>
		<td>IP address of the client that sent the request.</td>
		<td>123.123.123.123</td>
	</tr>
	<tr>
		<td>%{REMOTE_USER}</td>
		<td>Username of access authenticated client.</td>
		<td>bob</td>
	</tr>
	<tr>
		<td>%{REMOTE_IDENT}</td>
		<td>The user making the request as specified by identd or similar daemon.</td>
		<td>=?UTF-8?b?0YHQsNGFNORDgA==?=</td>
	</tr>
	<tr>
		<td>%{REQUEST_METHOD}</td>
		<td>The method used by the client in the request. See <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5.1.1">rfc2616</a> for HTTP 1.1 request methods.</td>
		<td>GET</td>
	</tr>
	<tr>
		<td>%{SCRIPT_FILENAME}</td>
		<td>The full file-path to the file/directory being requested.</td>
		<td>/var/www/path/script.py</td>
	</tr>
	<tr>
		<td>%{PATH_INFO}</td>
		<td>The remainder of the request URL's path.</td>
		<td>/</td>
	</tr>
	<tr>
		<td>%{QUERY_STRING}</td>
		<td>Content of the query string, i.e. part of the URL after the question mark and before the anchor.</td>
		<td>?foo=bar&amp;var=64</td>
	</tr>
	<tr>
		<td>%{AUTH_TYPE}</td>
		<td>The type of authentication used (if any). Typically basic or digest.</td>
		<td>basic</td>
	</tr>
	<tr>
		<td>%{DOCUMENT_ROOT}</td>
		<td>The root directory as defined by the DocumentRoot directive.</td>
		<td>/var/www/</td>
	</tr>
	<tr>
		<td>%{SERVER_ADMIN}</td>
		<td>The email address for the server administrator.</td>
		<td>webmaster@localhost</td>
	</tr>
	<tr>
		<td>%{SERVER_NAME}</td>
		<td>The servers host name, DNS alias or IP address.</td>
		<td>localhost</td>
	</tr>
	<tr>
		<td>%{SERVER_ADDR}</td>
		<td>The IP address of the server handling the request.</td>
		<td>127.0.0.1</td>
	</tr>
	<tr>
		<td>%{SERVER_PORT}</td>
		<td>The port number on the server that is handling the request.</td>
		<td>80</td>
	</tr>
	<tr>
		<td>%{SERVER_PROTOCOL}</td>
		<td>The name and the version of the protocol of the request.</td>
		<td>HTTP/1.1</td>
	</tr>
	<tr>
		<td>%{SERVER_SOFTWARE}</td>
		<td>The name and version of the software handling the request.</td>
		<td>Apache/2.2.9 (Ubuntu) PHP/5.2.6-2ubuntu4.2 with Suhosin-Patch</td>
	</tr>
	<tr>
		<td>%{TIME_YEAR}</td>
		<td>Four digit representation of the year.</td>
		<td>2009</td>
	</tr>
	<tr>
		<td>%{TIME_MON}</td>
		<td>Two digit representation of the month.</td>
		<td>07</td>
	</tr>
	<tr>
		<td>%{TIME_DAY}</td>
		<td>Two digit representation day of the month.</td>
		<td>04</td>
	</tr>
	<tr>
		<td>%{TIME_HOUR}</td>
		<td>Two digit representation of the hour.</td>
		<td>02</td>
	</tr>
	<tr>
		<td>%{TIME_MIN}</td>
		<td>Two digit representation of the minute.</td>
		<td>34</td>
	</tr>
	<tr>
		<td>%{TIME_SEC}</td>
		<td>Two digit representation of the second.</td>
		<td>54</td>
	</tr>
	<tr>
		<td>%{TIME_WDAY}</td>
		<td>One digit representation of the day of the week, 1-7, Monday is 1.</td>
		<td>6</td>
	</tr>
	<tr>
		<td>%{TIME}</td>
		<td>Current timestamp.</td>
		<td>20090704023524</td>
	</tr>
	<tr>
		<td>%{API_VERSION}</td>
		<td>Apache API version.</td>
		<td>20051115:15</td>
	</tr>
	<tr>
		<td>%{THE_REQUEST}</td>
		<td>The full request method header.</td>
		<td>GET /path/script.py HTTP/1.1</td>
	</tr>
	<tr>
		<td>%{REQUEST_URI}</td>
		<td>The full URL requested.</td>
		<td>/path/script.py</td>
	</tr>
	<tr>
		<td>%{REQUEST_FILENAME}</td>
		<td>The full filename requested.</td>
		<td>/path/script.py</td>
	</tr>
	<tr>
		<td>%{IS_SUBREQ}</td>
		<td><code>true</code> (string) when if the current request is a sub-request.</td>
		<td>false</td>
	</tr>
</tbody></table>
<table>
	<tbody><tr id="other-variables">
		<th colspan="3">Other Variables</th>
	</tr>
	<tr class="grey">
		<td colspan="3">mod_rewrite can also access a number of special variables.</td>
	</tr>
	<tr class="lgrey">
		<th>Syntax</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>%{HTTP:<em>name</em>}</td>
		<td>Access to HTTP request headers.</td>
		<td>%{HTTP:Accept-Charset}</td>
	</tr>
	<tr>
		<td>%{ENV:<em>name</em>}</td>
		<td>Access to environmental variables.</td>
		<td>%{ENV:APACHE_PID_FILE}</td>
	</tr>
	<tr>
		<td>%{SSL:<em>name</em>}</td>
		<td>Access to <a href="http://httpd.apache.org/docs/2.0/mod/mod_ssl.html#envvars">mod_ssl variables</a>.</td>
		<td>%{SSL:SSL_SERVER_CERT}</td>
	</tr>
	<tr>
		<td>%{LA-U:<em>name</em>}</td>
		<td>Access to positive URL-based look-ahead variables.</td>
		<td>%{LA-U:REMOTE_USER}</td>
	</tr>
	<tr>
		<td>%{LA-F:<em>name</em>}</td>
		<td>Access to positive file-path-based look-ahead variables.</td>
		<td>%{LA-F:REMOTE_USER}</td>
	</tr>
</tbody></table>
<p>If you need help with mod_rewrite, drop by the very helpful <a href="http://forum.modrewrite.com/">mod_rewrite Forum</a>.</p></div>
          </div>
          <div id="comments" class="content_box mt20">
            <div class="slit"></div>
            <div class="header">
              <div class="ico comment"></div>
              <h1>Comments</h1>
            </div>
            <div class="content">
              <div id="comments_area">
                <div id="comment-203" class="comment_box grey">
                  <div class="meta white_bg"><a href="http://blog.jakerocheleau.com/" rel="nofollow">Jake Rocheleau</a> Replied at 9:47 PM on 5 Jul 2009</div>
                  <div class="reply white">
                    <a onclick="j.replyTo(203)">Reply</a>
                  </div>
                  <div class="clear"></div>
                  <div class="inner"><p>This is great, I'm always using the Mod_Rewrite feature but never knew there were so many variables to use. Thanks for the share!</p></div>
                  <div id="comment-207" class="comment_box white mt10">
                    <div class="meta grey_bg"><a href="http://semlabs.co.uk/">David</a> Replied at 4:10 PM on 8 Jul 2009</div>
                    <div class="reply white">
                      <a onclick="j.replyTo(207)">Reply</a>
                    </div>
                    <div class="clear"></div>
                    <div class="inner"><p>There are actually quite a lot of other variables that are not listed in the Apache reference, which I have not listed as they are not commonly populated with a value.</p></div>
                  </div>
                </div>
                <div id="comment-205" class="comment_box white mt10">
                  <div class="meta grey_bg"><a>terry</a> Replied at 9:40 AM on 7 Jul 2009</div>
                  <div class="reply white">
                    <a onclick="j.replyTo(205)">Reply</a>
                  </div>
                  <div class="clear"></div>
                  <div class="inner"><p>The directives section should have included examples too. Otherwise, good for those who are unfamiliar with using mod_rewrite and Apache web server. </p></div>
                </div>
                <div id="comment-215" class="comment_box grey mt10">
                  <div class="meta white_bg"><a href="http://www.stratos.me/" rel="nofollow">stratosg</a> Replied at 11:47 AM on 11 Jul 2009</div>
                  <div class="reply white">
                    <a onclick="j.replyTo(215)">Reply</a>
                  </div>
                  <div class="clear"></div>
                  <div class="inner"><p>Wow man! This is an excellent reference... It can really save time some times... Bookmarked ;)</p></div>
                </div>
                <div id="comment-873" class="comment_box white mt10">
                  <div class="meta grey_bg"><a href="http://www.pmlmedia.co.uk/" rel="nofollow">Pete Moore</a> Replied at 7:28 AM on 26 May 2011</div>
                  <div class="reply white">
                    <a onclick="j.replyTo(873)">Reply</a>
                  </div>
                  <div class="clear"></div>
                  <div class="inner"><p>A comprehensive documentation of all the variables for Mod_rewrite on Apache. Thanks for sharing  - will save me a lot of time next time!</p></div>
                </div>
              </div>
              <fieldset>
                <legend>Post Comment</legend>
                <form id="comment_form" action="http://semlabs.co.uk/ajax/comment" method="post">
                  <h2 class="text_center">Thin comments left for links will be deleted.</h2>
                  <input type="hidden" name="comment[post_id]" value="12">
                  <input id="reply_to" type="hidden" name="comment[reply_id]" value="0">
                  <label>
								Name: <input type="text" name="comment[name]" maxlength="64" class="pencil"></label>
                  <div class="clear"></div>
                  <label>
								Email: <input type="text" name="comment[email]" maxlength="128" class="email"></label>
                  <div class="clear"></div>
                  <label>
								URL: <input type="text" name="comment[url]" maxlength="128" class="url"></label>
                  <label>
								Message: <textarea name="comment[message]" rows="6" class="compose"></textarea></label>
                  <div class="clear"></div>
                  <label>
								Notify me of replies to my comment: <input type="checkbox" name="followup" value="1"></label>
                  <div class="button_wrapper">
                    <div class="button_inner">
                      <button id="post_comment" type="submit" name="submit" class="mico email_send">Post Comment</button>
                    </div>
                  </div>
                  <div class="clear"></div>
                </form>
              </fieldset>
            </div>
          </div>
        </div>
        <div id="content_col_r">
          <div class="content_box">
            <div class="slit"></div>
            <div class="header">
              <div class="ico entry_info"></div>
              <h2>Entry Info</h2>
            </div>
            <div class="content sidebar">
              <div class="date_box">
                <div class="bar">
                  <div class="outer">
                    <div class="inner">
                      <div class="txt">Jul</div>
                    </div>
                  </div>
                </div>
                <div class="date">
                  <div class="no">5</div>
                </div>
                <div class="bar">
                  <div class="txt">2009</div>
                </div>
              </div>
              <span>Author:
					<a href="http://semlabs.co.uk/">David</a></span>
              <br>
              <span>Comments:
						<a href="http://semlabs.co.uk/journal/mod_rewrite-quick-reference-and-cheat-sheet#comments">5</a></span>
              <br>
              <span>Posted Under: 
						<a href="http://semlabs.co.uk/journal/category/open-source">Open Source</a>, <a href="http://semlabs.co.uk/journal/category/apache">Apache</a>, <a href="http://semlabs.co.uk/journal/category/mod_rewrite">mod_rewrite</a></span>
              <div class="clear"></div>
            </div>
          </div>
          <div class="content_box mt20">
            <div class="slit"></div>
            <div class="header">
              <div class="ico categories"></div>
              <h2>Categories</h2>
            </div>
            <div class="content sidebar">
              <ul>
                <li><a href="http://semlabs.co.uk/journal/category/php">PHP</a>
									(6)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/open-source">Open Source</a>
									(6)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/scripts">Scripts</a>
									(4)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/seo">SEO</a>
									(3)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/wordpress">WordPress</a>
									(3)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/css">CSS</a>
									(2)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/graphics">Graphics</a>
									(2)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/icons">Icons</a>
									(2)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/xml">XML</a>
									(1)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/html">HTML</a>
									(1)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/link-building">Link Building</a>
									(1)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/templates">Templates</a>
									(1)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/security">Security</a>
									(1)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/apache">Apache</a>
									(1)
								</li>
                <li><a href="http://semlabs.co.uk/journal/category/mod_rewrite">mod_rewrite</a>
									(1)
								</li>
              </ul>
            </div>
          </div>
          <div class="content_box mt20">
            <div class="slit"></div>
            <div class="header">
              <div class="ico archives"></div>
              <h2>Archives</h2>
            </div>
            <div class="content sidebar">
              <ul>
                <li>
                  <a href="http://semlabs.co.uk/journal/archive/august/2009">August&nbsp;2009</a>
                </li>
                <li>
                  <a href="http://semlabs.co.uk/journal/archive/july/2009">July&nbsp;2009</a>
                </li>
                <li>
                  <a href="http://semlabs.co.uk/journal/archive/june/2009">June&nbsp;2009</a>
                </li>
                <li>
                  <a href="http://semlabs.co.uk/journal/archive/april/2009">April&nbsp;2009</a>
                </li>
                <li>
                  <a href="http://semlabs.co.uk/journal/archive/march/2009">March&nbsp;2009</a>
                </li>
                <li>
                  <a href="http://semlabs.co.uk/journal/archive/january/2009">January&nbsp;2009</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="content_box mt20">
            <div class="slit"></div>
            <div class="header">
              <div class="ico linkroll"></div>
              <h2>Elsewhere</h2>
            </div>
            <div class="content sidebar">
              <ul>
                <li>
                  <a href="http://arakiel.co.uk/tree/" title="Arakiel Genealogy and Families of The Marches">Arakiel Genealogy</a>
                </li>
                <li>
                  <a href="http://linkbuildingreviews.com/" title="Backdoor bligin&#39;s">Link Slurry Software</a>
                </li>
                <li>
                  <a href="http://www.vegetableseeds.net/">Vegetable Seeds</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="content_box mt20">
            <div class="slit"></div>
            <div class="header">
              <div class="ico top_commentors"></div>
              <h3>Top<br>Commentors</h3>
            </div>
            <div class="content sidebar">
              <ul>
                <li>There are no commentors</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="clear"></div>
      </div>
      <div id="footer">
        <div class="slit"></div>
        <div class="inner">
          <div class="txt">
            <p>Â© SEM Labs SEO Consultancy, Organic SEO Services for Wales, the Midlands and the UK</p>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="./htaccess - mod_rewrite Quick Reference and Cheat Sheet_files/site.js"></script>
    <script type="text/javascript" src="./htaccess - mod_rewrite Quick Reference and Cheat Sheet_files/journal.js"></script>
    <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script src="./htaccess - mod_rewrite Quick Reference and Cheat Sheet_files/ga.js" type="text/javascript"></script>
    <script type="text/javascript">try { var pageTracker = _gat._getTracker("UA-7248972-1"); pageTracker._trackPageview(); } catch(err) {}</script>
  
</body></html>